var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,c){b!=Array.prototype&&b!=Object.prototype&&(b[a]=c.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,a,c,e){if(a){c=$jscomp.global;b=b.split(".");for(e=0;e<b.length-1;e++){var d=b[e];d in c||(c[d]={});c=c[d]}b=b[b.length-1];e=c[b];a=a(e);a!=e&&null!=a&&$jscomp.defineProperty(c,b,{configurable:!0,writable:!0,value:a})}};$jscomp.polyfill("Math.sign",function(b){return b?b:function(a){a=Number(a);return 0===a||isNaN(a)?a:0<a?1:-1}},"es6","es3");function isBlocked(b,a,c){a=get1DFrom2D(a.x,a.y);return b[a]==c?!0:!1}
function calculateFrontier(b,a,c,e){e=void 0===e?1:e;var d=[],f=1<a,g=a<GameSettings.cols-1,h=1<c,k=c<GameSettings.rows-1;f&&h&&k&&isBlocked(b,{x:a-2,y:c},e)&&d.push({x:a-2,y:c});g&&h&&k&&isBlocked(b,{x:a+2,y:c},e)&&d.push({x:a+2,y:c});h&&f&&g&&isBlocked(b,{x:a,y:c-2},e)&&d.push({x:a,y:c-2});k&&f&&g&&isBlocked(b,{x:a,y:c+2},e)&&d.push({x:a,y:c+2});return d}
function generateMaze(b){for(var a=0;a<b.length;a++)b[a]=1;b[get1DFrom2D(3,3)]=0;a=[{x:3,y:3}];a=a.concat(calculateFrontier(b,3,3,1));for(var c=0;0<a.length&&5E3>c++;){var e=Math.floor(Math.random()*a.length),d=a[e],f=calculateFrontier(b,d.x,d.y,0);0<f.length&&(f=f[Math.floor(Math.random()*f.length)],b[get1DFrom2D(d.x+Math.sign(d.x-f.x),d.y+Math.sign(d.y-f.y))]=0,b[get1DFrom2D(d.x,d.y)]=0,a=a.concat(calculateFrontier(b,d.x,d.y,1)),a.splice(e,1))}return b};
