var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var k=a[e];if(b.call(c,k,e,a))return{i:e,v:k}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.prototype.findIndex",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).i}},"es6","es3");function getGraphVertices(a){for(var b=[],c=0;c<a.length;c++)if(0==a[c]){var d=get2DFrom1D(c);d=worldToGrid(d.x,d.y);2<getNeighbourScoreEx(a,d.x,d.y)&&b.push({x:d.x,y:d.y})}return b}
function getMoveDirections(a,b,c){a=getNeighboursEx(a,b,c);b=[];0==a.up&&b.push({x:0,y:-1});0==a.down&&b.push({x:0,y:1});0==a.left&&b.push({x:-1,y:0});0==a.right&&b.push({x:1,y:0});return b}
function getDistantNeighbours(a,b,c,d){a=getMoveDirections(a,c,d);for(var e=[],k=0;k<a.length;k++){for(var l=a[k],f=c,g=d,h=0;h<(GameSettings.cols-2)*Math.abs(l.x);h++){f=0>l.x?f-1:f+1;if(1>f||f>GameSettings.cols-1)break;if(0<b.filter(function(a){return a.x==f&&a.y==g}).length){e.push({direction:l,distance:h,x:f,y:g,vertIdx:b.findIndex(function(a){return a.x==f&&a.y==g})});break}}f=c;g=d;for(h=0;h<(GameSettings.rows-2)*Math.abs(l.y);h++){g=0>l.y?g-1:g+1;if(1>g||g>GameSettings.rows-1)break;if(0<b.filter(function(a){return a.x==
f&&a.y==g}).length){e.push({direction:l,distance:h,x:f,y:g,gridIdx:get1DFrom2D(f,g),vertIdx:b.findIndex(function(a){return a.x==f&&a.y==g})});break}}}return e}function buildGraph(a){for(var b=getGraphVertices(a),c=[],d=0;d<b.length;d++)c[d]=[],c[d]=c[d].concat(getDistantNeighbours(a,b,b[d].x,b[d].y));return{graph:c,vertices:b}};
