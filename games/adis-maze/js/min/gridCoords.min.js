function gridToWorld(a,b){var c=GameSettings.width/GameSettings.cols,d=GameSettings.height/GameSettings.rows;return{x:(a+1)*c-c/2,y:(b+1)*d-d/2}}function get1DFrom2D(a,b){return a+GameSettings.cols*b}function get2DFrom1D(a){var b=GameSettings.width/GameSettings.cols,c=GameSettings.height/GameSettings.rows;return{x:Math.floor(a%GameSettings.cols)*b+b/2,y:Math.floor(a/GameSettings.cols)*c+c/2}}
function worldToGrid(a,b){return{x:Math.floor(a/GameSettings.width*GameSettings.cols),y:Math.floor(b/GameSettings.height*GameSettings.rows)}}function getNeighboursEx(a,b,c){return{up:a[get1DFrom2D(b,c-1)],down:a[get1DFrom2D(b,c+1)],left:a[get1DFrom2D(b-1,c)],right:a[get1DFrom2D(b+1,c)]}}function getNeighbourScoreEx(a,b,c){a=getNeighboursEx(a,b,c);b=0;if(!(0!=a.up&&0!=a.down||0!=a.left&&0!=a.right))return 3;1==a.up&&b++;1==a.left&&b++;1==a.down&&b++;1==a.right&&b++;return b};
