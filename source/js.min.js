/* enki dashboard js, @author: Benjamin Williams */
window.addEventListener("load",e=>{arcade.vue_games=new Vue({el:".games.screen",data:{currentIndex:0,games:[{title:"Adi's Maze Unlimited",genre:"Platformer",players:2,imagePath:"assets/images/adis-maze.png",author:"Benjamin Williams",description:"Lorem ipsum dolor, sit amet consectetur elit. Sunt a mazime iste.",path:"pacman-unlimited"},{title:"Qong",genre:"Sports",players:1,imagePath:"assets/images/qong.png",author:"Benjamin Williams",description:"Lorem ipsum dolor, sit amet consectetur elit. Sunt a mazime iste. Lorem. Ipsum.",path:"qong"}]},mounted:function(){arcade.keys.on("keyLeft",this.$el,this.left),arcade.keys.on("keyRight",this.$el,this.right),arcade.keys.on("keyA",this.$el,this.A),arcade.keys.on("keyB",this.$el,this.B)},methods:{transitionOut(e){let t=document.querySelector(".game");t.classList.contains("transitionIn")||t.classList.contains("transitionOut")||(t.classList.toggle("transitionOut"),window.setTimeout(e.bind(this),600))},transitionIn(e){let t=document.querySelector(".game");t.classList.toggle("transitionOut"),t.classList.toggle("transitionIn"),window.setTimeout(()=>{t.classList.toggle("transitionIn")},1500)},A(){let e=this.$el.querySelector(".key.info.primary kbd");e.classList.contains("pressed")||(e.classList.toggle("pressed"),window.setTimeout(()=>{e.classList.toggle("pressed")},500),arcade.launchGame(this.currentGame.path,500))},B(){let e=this.$el.querySelector(".key.info.secondary kbd");e.classList.contains("pressed")||(e.classList.toggle("pressed"),window.setTimeout(()=>{e.classList.toggle("pressed")},500))},left(){0!=this.currentIndex&&this.transitionOut(function(){this.currentIndex--,this.transitionIn()})},right(){this.currentIndex!=this.games.length-1&&this.transitionOut(function(){this.currentIndex++,this.transitionIn()})}},computed:{currentGame(){return this.games[this.currentIndex]}},filters:{formatPlayers:e=>1==e?e+" player":e>1?"1-"+e+" players":void 0}})}),Math.clamp=((e,t,s)=>Math.max(t,Math.min(e,s))),arcade.launchGame=function(e,t=0){setTimeout(function(){window.location.href="games/"+e},t)},arcade.keys={},arcade.keys.currentListener=null,arcade.keys.keyLeftEvent=new Event("keyLeft"),arcade.keys.keyRightEvent=new Event("keyRight"),arcade.keys.keyAEvent=new Event("keyA"),arcade.keys.keyBEvent=new Event("keyB"),arcade.keys.dispatchEvents=(e=>{null!=arcade.keys.currentListener&&("ArrowLeft"==e.code?arcade.keys.currentListener.dispatchEvent(arcade.keys.keyLeftEvent):"ArrowRight"==e.code?arcade.keys.currentListener.dispatchEvent(arcade.keys.keyRightEvent):"KeyZ"==e.code?arcade.keys.currentListener.dispatchEvent(arcade.keys.keyAEvent):"KeyX"==e.code&&arcade.keys.currentListener.dispatchEvent(arcade.keys.keyBEvent))}),arcade.keys.on=((e,t,s)=>{t.addEventListener(e,s)}),window.addEventListener("keydown",arcade.keys.dispatchEvents.bind(this)),window.addEventListener("load",()=>{arcade.keys.currentListener=arcade.vue_games.$el});